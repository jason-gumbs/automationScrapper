{"version":3,"sources":["components/element/modal/ModalView.js","components/element/home/Home.js","App.js","index.js"],"names":["customStyles","content","top","left","right","bottom","marginRight","transform","width","Modal","setAppElement","sortedCountry","ModalView","props","array","sortable","object","reduce","a","b","Object","objectSpread","defineProperty","x","push","sort","reverse","groupBy","data","country","totalSales","sales","results","map","k","i","console","log","react_default","createElement","key","lib_default","isOpen","modalIsOpen","onRequestClose","closeModal","style","contentLabel","type","className","aria-label","onClick","aria-hidden","Table","striped","bordered","hover","size","rating","Home","_useState","useState","url","isLoading","rowinfo","countries","ratings","error","_useState2","slicedToArray","state","setState","productDetails","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","axios","post","then","response","Error","catch","stop","apply","this","arguments","Form","Group","controlId","Label","Control","value","onChange","e","target","placeholder","role","marginTop","Button","variant","disabled","modal_ModalView","react_loading_default","color","height","App","react_router_dom","react_router","exact","path","component","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3ea85afe.chunk.js","sourcesContent":["import React from 'react';\nimport Modal from 'react-modal';\nimport {Table} from 'react-bootstrap'\n\n\nconst customStyles = {\n    content: {\n        top: '50%',\n        left: '50%',\n        right: 'auto',\n        bottom: 'auto',\n        marginRight: '-50%',\n        transform: 'translate(-50%, -50%)',\n        width: \"75%\"\n    }\n};\n\nModal.setAppElement('#root')\n\nlet sortedCountry  = []\n\nconst ModalView = (props) => {\n\n    const groupBy = array => {\n        var sortable = [];\n        var object = array.reduce((a, b) =>\n            ({\n                ...a,\n                [b]: (a[b] || 0) + 1\n            }), {})\n\n        for (var x in object) {\n            sortable.push([x, object[x]])\n            sortable.sort((a, b) => a[1] - b[1])\n            sortable.reverse()\n        }\n        return sortable\n    }\n\n    sortedCountry = groupBy(props.data.country)\n    let  totalSales = props.data.sales.reduce(function(a, b) { return a + b; }, 0);\n\n\n    const results = sortedCountry.map((k, i) => {\n        console.log(k);\n\n        return <tr key={i}>\n            <td>{i}</td>\n            <td>{k[0]} </td>\n            <td>{k[1]}</td>\n        </tr>\n    })\n    return (\n        <Modal\n            isOpen={props.modalIsOpen}\n            // onAfterOpen={afterOpenModal}\n            onRequestClose={props.closeModal}\n            style={customStyles}\n            contentLabel=\"Query Detail\"\n        >\n            <h2>Product Detail <button type=\"button\" className=\"close\"\n                                     aria-label=\"Close\"\n                                     onClick={props.closeModal}>\n                <span aria-hidden=\"true\">&times;</span>\n            </button></h2>\n            <hr/>\n\n            <div className=\"row\">\n                <h2 className=\"col\">Todays top countries</h2>\n                <Table striped bordered hover size=\"sm\">\n                    <thead>\n                    <tr>\n                        <th>#</th>\n                        <th>Country</th>\n                        <th>Amount purchase</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {results || \"N/A\"}\n                    </tbody>\n                </Table>\n            </div>\n            <hr/>\n            <dl className=\"row\">\n                <dt className=\"col\">Todays Sales</dt>\n                <dd className=\"col\">{totalSales|| \"N/A\"}</dd>\n                <dt className=\"col\">Rating</dt>\n                <dd className=\"col\">{props.data.rating || \"N/A\"}</dd>\n            </dl>\n\n        </Modal>)\n}\n\nexport default ModalView;\n\n","import React, {useState, useEffect} from 'react';\nimport axios from 'axios';\nimport {Form, Button, Table} from 'react-bootstrap'\nimport 'react-table/react-table.css'\nimport Modalview from '../modal/ModalView';\nimport ReactLoading from 'react-loading';\n\n\n\nconst Home = () => {\n    const [state, setState] = useState({\n        url: '',\n        isLoading: false,\n        modalIsOpen: false,\n        rowinfo: [],\n        countries: [],\n        sales:[],\n        ratings: [],\n        data: {},\n        error: false\n    })\n    //\n    // useEffect(() => {\n    //     productDetails()\n    // }, [])\n\n    const productDetails = async () => {\n        setState({...state, isLoading: true})\n\n          await axios.post('/api/productDetails', {url: state.url})\n               .then(function (response) {\n                   if (response.data === \"\"){\n                       throw new  Error()\n                   }\n                    setState({...state, data: response.data, modalIsOpen: true, isLoading: false})\n\n               })\n               .catch(function (error) {\n                   console.log(\"ERRORORORO\",error);\n                   setState({...state, error: true})\n\n               });\n\n\n    }\n    const ErrorBanner = props => {\n        if (!props.error) {\n            return null;\n        }\n\n        return (\n            <div className=\"alert alert-warning\" role=\"alert\" style={{marginTop: \"100px\"}}>\n                Oops.... Something went wrong getting your data please try using another Url.\n            </div>\n        );\n    }\n\n\n    const closeModal = e => {\n        setState({...state, modalIsOpen: false});\n    }\n\n\n\n    return (\n\n        <div>\n            <Form>\n                <Form.Group controlId=\"formBasicEmail\">\n                    <Form.Label>Please insert product Url</Form.Label>\n                    <Form.Control value={state.url} onChange={e => setState({...state, url: e.target.value})} type=\"text\"\n                                  placeholder=\"\" />\n                </Form.Group>\n                <ErrorBanner error={state.error}/>\n\n                <Button onClick={() => productDetails()} variant=\"primary\" type=\"button\" disabled={state.isLoading }>\n                    Submit\n                </Button>\n            </Form>\n            <div>\n                {state.modalIsOpen ? (<Modalview\n                    data={state.data}\n                    modalIsOpen={true}\n                    closeModal={closeModal}\n                />) : \"\"}\n            </div>\n            <div>\n                {state.isLoading ? ( <ReactLoading type={\"balls\"} color={\"grey\"} height={'10%'} width={'10%'}/>) : \"\"}\n            </div>\n        </div>\n\n    )\n}\n\nexport default Home;","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport Home from './components/element/home/Home';\n\nclass App extends Component {\n    render() {\n        return (\n            <div className='container'>\n                <div className='container-interior'>\n                    <Router>\n                        <Switch>\n                            <Route exact path='/' component={ Home } />\n                        </Switch>\n                    </Router>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}